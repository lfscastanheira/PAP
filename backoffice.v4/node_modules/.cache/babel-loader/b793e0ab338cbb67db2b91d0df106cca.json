{"ast":null,"code":"var _jsxFileName = \"/Users/lfscastanheira/Documents/GitHub/PAP/backoffice.v4/src/pages/Admin/Modules/Form/index.jsx\",\n  _s = $RefreshSig$();\nimport { Notify } from \"notiflix/build/notiflix-notify-aio\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useForm, FormProvider } from \"react-hook-form\";\nimport FirstTab from \"./FirstTab\";\nimport SecondTab from \"./SecondTab\";\nimport { api } from \"../../../../api/api\";\nimport { useRef } from \"react\";\nimport { Container } from \"../../../../styles/AdminStyles\";\nimport { HeaderDivider, ContainerHeader, HeaderDividerTitle, SubmitButton, CancelButton, Form } from \"../../../../styles/FormsStyles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ModulesForm = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const [tab, setTab] = useState(0);\n  const clone = useRef(false);\n  const nextTab = () => setTab(tab => tab + 1);\n  const previousTab = () => setTab(tab => tab - 1);\n\n  /* \tconst resetAsyncForm = useCallback(async () => {\r\n  \t\tif (!id) return;\r\n  \r\n  \t\tawait api\r\n  \t\t\t.get(`/module/${id}/isInCourse`)\r\n  \t\t\t.then((result) => (clone.current = result.data));\r\n  \r\n  \t\tconst result = await api.get(`/module/${id}`);\r\n  \t\tmethods.reset(result.data);\r\n  \t}, []);\r\n  \r\n  \tuseEffect(() => {\r\n  \t\tresetAsyncForm();\r\n  \t}, [resetAsyncForm]); */\n\n  const methods = useForm();\n  const onSubmit = data => {\n    if (id /* && !clone.current */) {\n      api.put(`/module/${id}`, data).then(() => {\n        Notify.success(\"Módulo editado!\");\n        navigate(\"/Admin/modules\");\n      });\n    } else {\n      api.post(\"/module\", data).then(() => {\n        Notify.success(\"Módulo criado!\");\n        navigate(\"/Admin/modules\");\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(FormProvider, {\n      ...methods,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: methods.handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(ContainerHeader, {\n            children: [/*#__PURE__*/_jsxDEV(HeaderDivider, {\n              children: /*#__PURE__*/_jsxDEV(CancelButton, {\n                to: \"/Admin/modules\",\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(HeaderDivider, {\n              children: /*#__PURE__*/_jsxDEV(HeaderDividerTitle, {\n                children: clone.current ? \"Módulos - editar como cópia\" : \"Módulos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(HeaderDivider, {\n              children: /*#__PURE__*/_jsxDEV(SubmitButton, {\n                type: \"submit\",\n                value: \"Finalizar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 7\n          }, this), tab === 0 ? /*#__PURE__*/_jsxDEV(FirstTab, {\n            nextTab: nextTab\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(SecondTab, {\n            previousTab: previousTab\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n_s(ModulesForm, \"8xbl/dBo3tFXbui4P2HWaW5BS3A=\", false, function () {\n  return [useNavigate, useParams, useForm];\n});\n_c = ModulesForm;\nexport default ModulesForm;\nvar _c;\n$RefreshReg$(_c, \"ModulesForm\");","map":{"version":3,"names":["Notify","useNavigate","useParams","useCallback","useEffect","useState","useForm","FormProvider","FirstTab","SecondTab","api","useRef","Container","HeaderDivider","ContainerHeader","HeaderDividerTitle","SubmitButton","CancelButton","Form","jsxDEV","_jsxDEV","Fragment","_Fragment","ModulesForm","_s","navigate","id","tab","setTab","clone","nextTab","previousTab","methods","onSubmit","data","put","then","success","post","children","handleSubmit","to","fileName","_jsxFileName","lineNumber","columnNumber","current","type","value","_c","$RefreshReg$"],"sources":["/Users/lfscastanheira/Documents/GitHub/PAP/backoffice.v4/src/pages/Admin/Modules/Form/index.jsx"],"sourcesContent":["import { Notify } from \"notiflix/build/notiflix-notify-aio\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useForm, FormProvider } from \"react-hook-form\";\r\nimport FirstTab from \"./FirstTab\";\r\nimport SecondTab from \"./SecondTab\";\r\nimport { api } from \"../../../../api/api\";\r\nimport { useRef } from \"react\";\r\nimport { Container } from \"../../../../styles/AdminStyles\";\r\nimport {\r\n\tHeaderDivider,\r\n\tContainerHeader,\r\n\tHeaderDividerTitle,\r\n\tSubmitButton,\r\n\tCancelButton,\r\n\tForm,\r\n} from \"../../../../styles/FormsStyles\";\r\n\r\nconst ModulesForm = () => {\r\n\tconst navigate = useNavigate();\r\n\tconst { id } = useParams();\r\n\r\n\tconst [tab, setTab] = useState(0);\r\n\r\n\tconst clone = useRef(false);\r\n\r\n\tconst nextTab = () => setTab((tab) => tab + 1);\r\n\tconst previousTab = () => setTab((tab) => tab - 1);\r\n\r\n/* \tconst resetAsyncForm = useCallback(async () => {\r\n\t\tif (!id) return;\r\n\r\n\t\tawait api\r\n\t\t\t.get(`/module/${id}/isInCourse`)\r\n\t\t\t.then((result) => (clone.current = result.data));\r\n\r\n\t\tconst result = await api.get(`/module/${id}`);\r\n\t\tmethods.reset(result.data);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tresetAsyncForm();\r\n\t}, [resetAsyncForm]); */\r\n\r\n\tconst methods = useForm();\r\n\r\n\tconst onSubmit = (data) => {\r\n\t\tif (id /* && !clone.current */) {\r\n\t\t\tapi.put(`/module/${id}`, data).then(() => {\r\n\t\t\t\tNotify.success(\"Módulo editado!\");\r\n\t\t\t\tnavigate(\"/Admin/modules\");\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tapi.post(\"/module\", data).then(() => {\r\n\t\t\t\tNotify.success(\"Módulo criado!\");\r\n\t\t\t\tnavigate(\"/Admin/modules\");\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FormProvider {...methods}>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Form onSubmit={methods.handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\t<ContainerHeader>\r\n\t\t\t\t\t\t\t<HeaderDivider>\r\n\t\t\t\t\t\t\t\t<CancelButton to={\"/Admin/modules\"}>Cancelar</CancelButton>\r\n\t\t\t\t\t\t\t</HeaderDivider>\r\n\t\t\t\t\t\t\t<HeaderDivider>\r\n\t\t\t\t\t\t\t\t<HeaderDividerTitle>\r\n\t\t\t\t\t\t\t\t\t{clone.current ? \"Módulos - editar como cópia\" : \"Módulos\"}\r\n\t\t\t\t\t\t\t\t</HeaderDividerTitle>\r\n\t\t\t\t\t\t\t</HeaderDivider>\r\n\t\t\t\t\t\t\t<HeaderDivider>\r\n\t\t\t\t\t\t\t\t<SubmitButton type='submit' value='Finalizar' />\r\n\t\t\t\t\t\t\t</HeaderDivider>\r\n\t\t\t\t\t\t</ContainerHeader>\r\n\t\t\t\t\t\t{tab === 0 ? (\r\n\t\t\t\t\t\t\t<FirstTab nextTab={nextTab} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<SecondTab previousTab={previousTab} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Container>\r\n\t\t\t</FormProvider>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ModulesForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}