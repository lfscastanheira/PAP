{"ast":null,"code":"var _jsxFileName = \"/Users/lfscastanheira/Downloads/etrainit/backoffice.v4/src/pages/Admin/Courses/Form/ThirdTab.jsx\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport { api } from \"../../../../api/api\";\nimport { useEffect, useState } from \"react\";\nimport { useRef } from \"react\";\nimport { Selects, SmallContainer, FormHeader, NavigationButton, FormHeaderDivider, EnabledNext, EnabledPrevious, Remove, RemoveButton, AddingForm, ModulesList, Module } from \"../../../../styles/FormsTabsStyles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Select = styled(Selects)`\n\twidth: 50%;\n`;\n_c = Select;\nconst ThirdTab = _ref => {\n  _s();\n  let {\n    previousTab,\n    nextTab,\n    resetModules,\n    fields,\n    append,\n    remove,\n    duration,\n    setDuration\n  } = _ref;\n  const [modules, setModules] = useState();\n  const selectRef = useRef();\n  useEffect(() => {\n    api.get(\"/modules\").then(result => {\n      setModules(result.data);\n      if (resetModules && !fields.length) {\n        result.data.forEach(module => {\n          if (resetModules.includes(module._id)) {\n            setDuration(duration => duration + module.totalTime);\n            append(module);\n          }\n        });\n      }\n    });\n  }, []);\n  const filteredModules = modules ? modules.filter(module => !fields.some(field => module._id === field._id)) : [];\n  const addModule = module => {\n    if (module === null) return;\n    append(module);\n    setDuration(duration => duration + module.totalTime);\n  };\n  const removeMoudle = (index, module) => {\n    remove(index);\n    setDuration(duration => duration - module.totalTime);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(SmallContainer, {\n      children: [/*#__PURE__*/_jsxDEV(FormHeader, {\n        children: [/*#__PURE__*/_jsxDEV(FormHeaderDivider, {\n          children: \"M\\xF3dulos do Curso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(FormHeaderDivider, {\n          children: [/*#__PURE__*/_jsxDEV(NavigationButton, {\n            onClick: previousTab,\n            children: /*#__PURE__*/_jsxDEV(EnabledPrevious, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(NavigationButton, {\n            onClick: nextTab,\n            children: /*#__PURE__*/_jsxDEV(EnabledNext, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(AddingForm, {\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          ref: selectRef,\n          value: null,\n          options: filteredModules,\n          onChange: addModule,\n          defaultOptions: true,\n          placeholder: \"Procurar e adicionar\",\n          getOptionLabel: option => option.designation,\n          getOptionValue: option => option._id,\n          menuPortalTarget: document.body\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ModulesList, {\n          children: fields.map((field, index) => /*#__PURE__*/_jsxDEV(Module, {\n            children: [/*#__PURE__*/_jsxDEV(RemoveButton, {\n              onClick: () => removeMoudle(index, field),\n              children: /*#__PURE__*/_jsxDEV(Remove, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: field.designation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 9\n            }, this)]\n          }, field._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this), \"Module duration: \", duration]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n_s(ThirdTab, \"OicOGs/lAf5BQNL+/M1ZYmYgPQU=\");\n_c2 = ThirdTab;\nexport default ThirdTab;\nvar _c, _c2;\n$RefreshReg$(_c, \"Select\");\n$RefreshReg$(_c2, \"ThirdTab\");","map":{"version":3,"names":["styled","api","useEffect","useState","useRef","Selects","SmallContainer","FormHeader","NavigationButton","FormHeaderDivider","EnabledNext","EnabledPrevious","Remove","RemoveButton","AddingForm","ModulesList","Module","jsxDEV","_jsxDEV","Fragment","_Fragment","Select","_c","ThirdTab","_ref","_s","previousTab","nextTab","resetModules","fields","append","remove","duration","setDuration","modules","setModules","selectRef","get","then","result","data","length","forEach","module","includes","_id","totalTime","filteredModules","filter","some","field","addModule","removeMoudle","index","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","ref","value","options","onChange","defaultOptions","placeholder","getOptionLabel","option","designation","getOptionValue","menuPortalTarget","document","body","map","_c2","$RefreshReg$"],"sources":["/Users/lfscastanheira/Downloads/etrainit/backoffice.v4/src/pages/Admin/Courses/Form/ThirdTab.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { api } from \"../../../../api/api\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport {\r\n\tSelects,\r\n\tSmallContainer,\r\n\tFormHeader,\r\n\tNavigationButton,\r\n\tFormHeaderDivider,\r\n\tEnabledNext,\r\n\tEnabledPrevious,\r\n\tRemove,\r\n\tRemoveButton,\r\n\tAddingForm,\r\n\tModulesList,\r\n\tModule,\r\n} from \"../../../../styles/FormsTabsStyles\";\r\n\r\nconst Select = styled(Selects)`\r\n\twidth: 50%;\r\n`;\r\n\r\nconst ThirdTab = ({\r\n\tpreviousTab,\r\n\tnextTab,\r\n\tresetModules,\r\n\tfields,\r\n\tappend,\r\n\tremove,\r\n\tduration,\r\n\tsetDuration,\r\n}) => {\r\n\tconst [modules, setModules] = useState();\r\n\r\n\tconst selectRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tapi.get(\"/modules\").then((result) => {\r\n\t\t\tsetModules(result.data);\r\n\r\n\t\t\tif (resetModules && !fields.length) {\r\n\t\t\t\tresult.data.forEach((module) => {\r\n\t\t\t\t\tif (resetModules.includes(module._id)) {\r\n\t\t\t\t\t\tsetDuration((duration) => duration + module.totalTime);\r\n\t\t\t\t\t\tappend(module);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst filteredModules = modules\r\n\t\t? modules.filter(\r\n\t\t\t\t(module) => !fields.some((field) => module._id === field._id)\r\n\t\t  )\r\n\t\t: [];\r\n\r\n\tconst addModule = (module) => {\r\n\t\tif (module === null) return;\r\n\t\tappend(module);\r\n\t\tsetDuration((duration) => duration + module.totalTime);\r\n\t};\r\n\r\n\tconst removeMoudle = (index, module) => {\r\n\t\tremove(index);\r\n\t\tsetDuration((duration) => duration - module.totalTime);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SmallContainer>\r\n\t\t\t\t<FormHeader>\r\n\t\t\t\t\t<FormHeaderDivider>Módulos do Curso</FormHeaderDivider>\r\n\t\t\t\t\t<FormHeaderDivider>\r\n\t\t\t\t\t\t<NavigationButton onClick={previousTab}>\r\n\t\t\t\t\t\t\t<EnabledPrevious size={24} />\r\n\t\t\t\t\t\t</NavigationButton>\r\n\t\t\t\t\t\t<NavigationButton onClick={nextTab}>\r\n\t\t\t\t\t\t\t<EnabledNext size={24} />\r\n\t\t\t\t\t\t</NavigationButton>\r\n\t\t\t\t\t</FormHeaderDivider>\r\n\t\t\t\t</FormHeader>\r\n\t\t\t\t<AddingForm>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tref={selectRef}\r\n\t\t\t\t\t\tvalue={null}\r\n\t\t\t\t\t\toptions={filteredModules}\r\n\t\t\t\t\t\tonChange={addModule}\r\n\t\t\t\t\t\tdefaultOptions\r\n\t\t\t\t\t\tplaceholder='Procurar e adicionar'\r\n\t\t\t\t\t\tgetOptionLabel={(option) => option.designation}\r\n\t\t\t\t\t\tgetOptionValue={(option) => option._id}\r\n\t\t\t\t\t\tmenuPortalTarget={document.body}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ModulesList>\r\n\t\t\t\t\t\t{fields.map((field, index) => (\r\n\t\t\t\t\t\t\t<Module key={field._id}>\r\n\t\t\t\t\t\t\t\t<RemoveButton onClick={() => removeMoudle(index, field)}>\r\n\t\t\t\t\t\t\t\t\t<Remove size={16} />\r\n\t\t\t\t\t\t\t\t</RemoveButton>\r\n\t\t\t\t\t\t\t\t<span>{field.designation}</span>\r\n\t\t\t\t\t\t\t</Module>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ModulesList>\r\n\t\t\t\t</AddingForm>\r\n\t\t\t\t{/* Isto precisa de ser um input disable, qual? Eu nao sei, é contigo*/}\r\n\t\t\t\tModule duration: {duration}\r\n\t\t\t</SmallContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ThirdTab;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}