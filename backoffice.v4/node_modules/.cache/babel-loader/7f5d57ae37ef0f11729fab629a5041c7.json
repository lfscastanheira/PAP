{"ast":null,"code":"var _jsxFileName = \"/Users/enzogrigorio/Library/CloudStorage/OneDrive-ColegiodeGaia/Ambiente de Trabalho/fct/etrainit/backoffice.v3/src/pages/Admin/Calendar/index.jsx\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport ReactAsync from \"react-select/async\";\nimport \"./CalendarStyles.css\";\nimport { Container, ContainerHeader, SmallContainer, Header, TableIconContainer, TableRow, Search, Edit, Add, EditIcon, HeaderDivider, TableField } from \"../../../styles/AdminStyles\";\nimport { api } from \"../../../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Index() {\n  _s();\n  const [teachers, setTeachers] = useState([]);\n  const [selectedTeacher, setSelectedTeacher] = useState(null);\n  const [query, setQuery] = useState(\"\");\n  useEffect(() => {\n    if (query) {\n      // Se a query não estiver vazia, realiza a busca dos professores\n      api.get(`/teachers?name=${query}`).then(response => {\n        // Mapeia os nomes dos professores para criar opções para o Select\n        const teacherOptions = response.data.map(teacher => ({\n          value: teacher._id,\n          // Use o ID ou outro identificador único do professor\n          label: teacher.name // Use o campo correto que contém os nomes dos professores\n        }));\n\n        setTeachers(teacherOptions);\n      }).catch(error => {\n        // Trate qualquer erro aqui\n        console.error(\"Erro ao obter os professores:\", error);\n        Notify.failure(\"Erro ao buscar os professores\");\n      });\n    } else {\n      // Se a query estiver vazia, limpa as opções do Select\n      setTeachers([]);\n    }\n  }, [query]);\n  const handleTeacherChange = selectedOption => {\n    setSelectedTeacher(selectedOption);\n  };\n  const Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    background-color: #fff;\n    border-radius: 10px;\n    padding: 1rem;\n    height: 100%;\n    overflow-y: auto;\n  `;\n  const Select = styled(ReactAsync)`\n    width: 50%;\n    margin-bottom: 2rem;\n    .css-13cymwt-control,\n    .css-t3ipsp-control {\n      border: 2px solid ${props => props.theme.colors.background};\n      border-radius: 0.5rem;\n    }\n    .css-13cymwt-control:hover,\n    .css-t3ipsp-control:hover {\n      border-color: ${props => props.theme.colors.secundary};\n      cursor: pointer;\n    }\n    .css-t3ipsp-control {\n      box-shadow: none;\n    }\n  `;\n  const styles = {\n    wrap: {\n      display: \"flex\"\n    },\n    left: {\n      marginRight: \"10px\"\n    },\n    main: {\n      flexGrow: \"1\"\n    }\n  };\n  const [selectedOption, setSelectedOption] = useState(null);\n  const handleChange = selectedOption => {\n    setSelectedOption(selectedOption);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cHeader\",\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          options: teachers,\n          onChange: handleTeacherChange,\n          value: selectedTeacher,\n          placeholder: \"Escolha um formador\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Add, {\n          to: \"/Admin/calendar/form\",\n          children: \"Adicionar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendario\",\n        children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: \"http://localhost:3000/\",\n          frameborder: \"0\",\n          height: \"700px\",\n          width: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Index, \"WyRmDA3BYKqGJOVYtfrL9TXVX3w=\");\n_c = Index;\nvar _c;\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"names":["styled","React","useState","useRef","useEffect","ReactAsync","Container","ContainerHeader","SmallContainer","Header","TableIconContainer","TableRow","Search","Edit","Add","EditIcon","HeaderDivider","TableField","api","jsxDEV","_jsxDEV","Fragment","_Fragment","Index","_s","teachers","setTeachers","selectedTeacher","setSelectedTeacher","query","setQuery","get","then","response","teacherOptions","data","map","teacher","value","_id","label","name","catch","error","console","Notify","failure","handleTeacherChange","selectedOption","div","Select","props","theme","colors","background","secundary","styles","wrap","display","left","marginRight","main","flexGrow","setSelectedOption","handleChange","children","className","options","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","to","src","frameborder","height","width","_c","$RefreshReg$"],"sources":["/Users/enzogrigorio/Library/CloudStorage/OneDrive-ColegiodeGaia/Ambiente de Trabalho/fct/etrainit/backoffice.v3/src/pages/Admin/Calendar/index.jsx"],"sourcesContent":["\nimport styled from \"styled-components\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport ReactAsync from \"react-select/async\";\nimport \"./CalendarStyles.css\";\nimport {\n\tContainer,\n\tContainerHeader,\n\tSmallContainer,\n\tHeader,\n\tTableIconContainer,\n\tTableRow,\n\tSearch,\n\tEdit,\n\tAdd,\n\tEditIcon,\n\tHeaderDivider,\n\tTableField,\n} from \"../../../styles/AdminStyles\";\nimport { api } from \"../../../api/api\";\n\nexport default function Index() {\n  \n  const [teachers, setTeachers] = useState([]);\n  const [selectedTeacher, setSelectedTeacher] = useState(null);\n  const [query, setQuery] = useState(\"\");\n\n  useEffect(() => {\n    if (query) {\n      // Se a query não estiver vazia, realiza a busca dos professores\n      api.get(`/teachers?name=${query}`)\n        .then(response => {\n          // Mapeia os nomes dos professores para criar opções para o Select\n          const teacherOptions = response.data.map(teacher => ({\n            value: teacher._id, // Use o ID ou outro identificador único do professor\n            label: teacher.name // Use o campo correto que contém os nomes dos professores\n          }));\n          setTeachers(teacherOptions);\n        })\n        .catch(error => {\n          // Trate qualquer erro aqui\n          console.error(\"Erro ao obter os professores:\", error);\n          Notify.failure(\"Erro ao buscar os professores\");\n        });\n    } else {\n      // Se a query estiver vazia, limpa as opções do Select\n      setTeachers([]);\n    }\n  }, [query]);\n\n  const handleTeacherChange = selectedOption => {\n    setSelectedTeacher(selectedOption);\n  };\n  \n\n  \n  const Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    background-color: #fff;\n    border-radius: 10px;\n    padding: 1rem;\n    height: 100%;\n    overflow-y: auto;\n  `;\n\n  const Select = styled(ReactAsync)`\n    width: 50%;\n    margin-bottom: 2rem;\n    .css-13cymwt-control,\n    .css-t3ipsp-control {\n      border: 2px solid ${(props) => props.theme.colors.background};\n      border-radius: 0.5rem;\n    }\n    .css-13cymwt-control:hover,\n    .css-t3ipsp-control:hover {\n      border-color: ${(props) => props.theme.colors.secundary};\n      cursor: pointer;\n    }\n    .css-t3ipsp-control {\n      box-shadow: none;\n    }\n  `;\n\n  const styles = {\n    wrap: {\n      display: \"flex\",\n    },\n    left: {\n      marginRight: \"10px\",\n    },\n    main: {\n      flexGrow: \"1\",\n    },\n  };\n  const [selectedOption, setSelectedOption] = useState(null);\n  const handleChange = selectedOption => {\n    setSelectedOption(selectedOption);\n  };\n\n  return (\n    <>\n      <Container>\n        <div className=\"cHeader\">\n        <Select\n          options={teachers}\n          onChange={handleTeacherChange}\n          value={selectedTeacher}\n          placeholder=\"Escolha um formador\"\n        />\n          <Add to={\"/Admin/calendar/form\"}>Adicionar</Add> {/* esse botão vai precisar de se comportar da mesma forma que o antigo criar evento do calendário*/}\n        </div>\n        \n        <div className=\"calendario\">\n          <iframe\n            src=\"http://localhost:3000/\"\n            frameborder=\"0\"\n            height=\"700px\"\n            width=\"100%\"\n            \n          ></iframe>\n        </div>\n      </Container>\n    </>\n  );\n}\n"],"mappings":";;AACA,OAAOA,MAAM,MAAM,mBAAmB;AACtC,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAO,sBAAsB;AAC7B,SACCC,SAAS,EACTC,eAAe,EACfC,cAAc,EACdC,MAAM,EACNC,kBAAkB,EAClBC,QAAQ,EACRC,MAAM,EACNC,IAAI,EACJC,GAAG,EACHC,QAAQ,EACRC,aAAa,EACbC,UAAU,QACJ,6BAA6B;AACpC,SAASC,GAAG,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEvC,eAAe,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAE9B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACyB,eAAe,EAAEC,kBAAkB,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAAC2B,KAAK,EAAEC,QAAQ,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAEtCE,SAAS,CAAC,MAAM;IACd,IAAIyB,KAAK,EAAE;MACT;MACAX,GAAG,CAACa,GAAG,CAAE,kBAAiBF,KAAM,EAAC,CAAC,CAC/BG,IAAI,CAACC,QAAQ,IAAI;QAChB;QACA,MAAMC,cAAc,GAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAACC,OAAO,KAAK;UACnDC,KAAK,EAAED,OAAO,CAACE,GAAG;UAAE;UACpBC,KAAK,EAAEH,OAAO,CAACI,IAAI,CAAC;QACtB,CAAC,CAAC,CAAC;;QACHf,WAAW,CAACQ,cAAc,CAAC;MAC7B,CAAC,CAAC,CACDQ,KAAK,CAACC,KAAK,IAAI;QACd;QACAC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACrDE,MAAM,CAACC,OAAO,CAAC,+BAA+B,CAAC;MACjD,CAAC,CAAC;IACN,CAAC,MAAM;MACL;MACApB,WAAW,CAAC,EAAE,CAAC;IACjB;EACF,CAAC,EAAE,CAACG,KAAK,CAAC,CAAC;EAEX,MAAMkB,mBAAmB,GAAGC,cAAc,IAAI;IAC5CpB,kBAAkB,CAACoB,cAAc,CAAC;EACpC,CAAC;EAID,MAAM1C,SAAS,GAAGN,MAAM,CAACiD,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;EAED,MAAMC,MAAM,GAAGlD,MAAM,CAACK,UAAU,CAAE;AACpC;AACA;AACA;AACA;AACA,0BAA2B8C,KAAK,IAAKA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACC,UAAW;AACnE;AACA;AACA;AACA;AACA,sBAAuBH,KAAK,IAAKA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACE,SAAU;AAC9D;AACA;AACA;AACA;AACA;AACA,GAAG;EAED,MAAMC,MAAM,GAAG;IACbC,IAAI,EAAE;MACJC,OAAO,EAAE;IACX,CAAC;IACDC,IAAI,EAAE;MACJC,WAAW,EAAE;IACf,CAAC;IACDC,IAAI,EAAE;MACJC,QAAQ,EAAE;IACZ;EACF,CAAC;EACD,MAAM,CAACd,cAAc,EAAEe,iBAAiB,CAAC,GAAG7D,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM8D,YAAY,GAAGhB,cAAc,IAAI;IACrCe,iBAAiB,CAACf,cAAc,CAAC;EACnC,CAAC;EAED,oBACE5B,OAAA,CAAAE,SAAA;IAAA2C,QAAA,eACE7C,OAAA,CAACd,SAAS;MAAA2D,QAAA,gBACR7C,OAAA;QAAK8C,SAAS,EAAC,SAAS;QAAAD,QAAA,gBACxB7C,OAAA,CAAC8B,MAAM;UACLiB,OAAO,EAAE1C,QAAS;UAClB2C,QAAQ,EAAErB,mBAAoB;UAC9BT,KAAK,EAAEX,eAAgB;UACvB0C,WAAW,EAAC;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACjC,eACArD,OAAA,CAACN,GAAG;UAAC4D,EAAE,EAAE,sBAAuB;UAAAT,QAAA,EAAC;QAAS;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAM,KAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC7C,eAENrD,OAAA;QAAK8C,SAAS,EAAC,YAAY;QAAAD,QAAA,eACzB7C,OAAA;UACEuD,GAAG,EAAC,wBAAwB;UAC5BC,WAAW,EAAC,GAAG;UACfC,MAAM,EAAC,OAAO;UACdC,KAAK,EAAC;QAAM;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAEJ;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACI,iBACX;AAEP;AAACjD,EAAA,CAxGuBD,KAAK;AAAAwD,EAAA,GAALxD,KAAK;AAAA,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}