{"ast":null,"code":"var _jsxFileName = \"/Users/lfscastanheira/Documents/GitHub/PAP/backoffice.v4/src/pages/Admin/Modules/Form/index.jsx\",\n  _s = $RefreshSig$();\nimport { Notify } from \"notiflix/build/notiflix-notify-aio\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useForm, FormProvider } from \"react-hook-form\";\nimport FirstTab from \"./FirstTab\";\nimport SecondTab from \"./SecondTab\";\nimport { api } from \"../../../../api/api\";\nimport { useRef } from \"react\";\nimport { Container } from \"../../../../styles/AdminStyles\";\nimport { HeaderDivider, ContainerHeader, HeaderDividerTitle, SubmitButton, CancelButton, Form } from \"../../../../styles/FormsStyles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ModulesForm = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const [tab, setTab] = useState(0);\n  const clone = useRef(false);\n  const nextTab = () => setTab(tab => tab + 1);\n  const previousTab = () => setTab(tab => tab - 1);\n  const resetAsyncForm = useCallback(async () => {\n    if (!id) return;\n    await api.get(`/module/${id}/isInCourse`).then(result => clone.current = result.data);\n    const result = await api.get(`/module/${id}`);\n    methods.reset(result.data);\n  }, []);\n  useEffect(() => {\n    resetAsyncForm();\n  }, [resetAsyncForm]);\n  const methods = useForm();\n  const onSubmit = data => {\n    console.log(clone.current);\n    if (id /* && !clone.current */) {\n      api.put(`/module/${id}`, data).then(() => {\n        Notify.success(\"Módulo editado!\");\n        navigate(\"/Admin/modules\");\n      });\n    } else {\n      api.post(\"/module\", data).then(() => {\n        Notify.success(\"Módulo criado!\");\n        navigate(\"/Admin/modules\");\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(FormProvider, {\n      ...methods,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: methods.handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(ContainerHeader, {\n            children: [/*#__PURE__*/_jsxDEV(HeaderDivider, {\n              children: /*#__PURE__*/_jsxDEV(CancelButton, {\n                to: \"/Admin/modules\",\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(HeaderDivider, {\n              children: /*#__PURE__*/_jsxDEV(HeaderDividerTitle, {\n                children: clone.current ? \"Módulos - editar como cópia\" : \"Módulos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(HeaderDivider, {\n              children: /*#__PURE__*/_jsxDEV(SubmitButton, {\n                type: \"submit\",\n                value: \"Finalizar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this), tab === 0 ? /*#__PURE__*/_jsxDEV(FirstTab, {\n            nextTab: nextTab\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(SecondTab, {\n            previousTab: previousTab\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n_s(ModulesForm, \"tU69C1ShNmTVRIm8/5b+J2Fzmww=\", false, function () {\n  return [useNavigate, useParams, useForm];\n});\n_c = ModulesForm;\nexport default ModulesForm;\nvar _c;\n$RefreshReg$(_c, \"ModulesForm\");","map":{"version":3,"names":["Notify","useNavigate","useParams","useCallback","useEffect","useState","useForm","FormProvider","FirstTab","SecondTab","api","useRef","Container","HeaderDivider","ContainerHeader","HeaderDividerTitle","SubmitButton","CancelButton","Form","jsxDEV","_jsxDEV","Fragment","_Fragment","ModulesForm","_s","navigate","id","tab","setTab","clone","nextTab","previousTab","resetAsyncForm","get","then","result","current","data","methods","reset","onSubmit","console","log","put","success","post","children","handleSubmit","to","fileName","_jsxFileName","lineNumber","columnNumber","type","value","_c","$RefreshReg$"],"sources":["/Users/lfscastanheira/Documents/GitHub/PAP/backoffice.v4/src/pages/Admin/Modules/Form/index.jsx"],"sourcesContent":["import { Notify } from \"notiflix/build/notiflix-notify-aio\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useForm, FormProvider } from \"react-hook-form\";\r\nimport FirstTab from \"./FirstTab\";\r\nimport SecondTab from \"./SecondTab\";\r\nimport { api } from \"../../../../api/api\";\r\nimport { useRef } from \"react\";\r\nimport { Container } from \"../../../../styles/AdminStyles\";\r\nimport {\r\n\tHeaderDivider,\r\n\tContainerHeader,\r\n\tHeaderDividerTitle,\r\n\tSubmitButton,\r\n\tCancelButton,\r\n\tForm,\r\n} from \"../../../../styles/FormsStyles\";\r\n\r\nconst ModulesForm = () => {\r\n\tconst navigate = useNavigate();\r\n\tconst { id } = useParams();\r\n\r\n\tconst [tab, setTab] = useState(0);\r\n\r\n\tconst clone = useRef(false);\r\n\r\n\tconst nextTab = () => setTab((tab) => tab + 1);\r\n\tconst previousTab = () => setTab((tab) => tab - 1);\r\n\r\n\tconst resetAsyncForm = useCallback(async () => {\r\n\t\tif (!id) return;\r\n\r\n\t\tawait api\r\n\t\t\t.get(`/module/${id}/isInCourse`)\r\n\t\t\t.then((result) => (clone.current = result.data));\r\n\r\n\t\tconst result = await api.get(`/module/${id}`);\r\n\t\tmethods.reset(result.data);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tresetAsyncForm();\r\n\t}, [resetAsyncForm]);\r\n\r\n\tconst methods = useForm();\r\n\r\n\tconst onSubmit = (data) => {\r\n\t\tconsole.log(clone.current);\r\n\t\tif (id /* && !clone.current */) {\r\n\t\t\tapi.put(`/module/${id}`, data).then(() => {\r\n\t\t\t\tNotify.success(\"Módulo editado!\");\r\n\t\t\t\tnavigate(\"/Admin/modules\");\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tapi.post(\"/module\", data).then(() => {\r\n\t\t\t\tNotify.success(\"Módulo criado!\");\r\n\t\t\t\tnavigate(\"/Admin/modules\");\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FormProvider {...methods}>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Form onSubmit={methods.handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\t<ContainerHeader>\r\n\t\t\t\t\t\t\t<HeaderDivider>\r\n\t\t\t\t\t\t\t\t<CancelButton to={\"/Admin/modules\"}>Cancelar</CancelButton>\r\n\t\t\t\t\t\t\t</HeaderDivider>\r\n\t\t\t\t\t\t\t<HeaderDivider>\r\n\t\t\t\t\t\t\t\t<HeaderDividerTitle>\r\n\t\t\t\t\t\t\t\t\t{clone.current ? \"Módulos - editar como cópia\" : \"Módulos\"}\r\n\t\t\t\t\t\t\t\t</HeaderDividerTitle>\r\n\t\t\t\t\t\t\t</HeaderDivider>\r\n\t\t\t\t\t\t\t<HeaderDivider>\r\n\t\t\t\t\t\t\t\t<SubmitButton type='submit' value='Finalizar' />\r\n\t\t\t\t\t\t\t</HeaderDivider>\r\n\t\t\t\t\t\t</ContainerHeader>\r\n\t\t\t\t\t\t{tab === 0 ? (\r\n\t\t\t\t\t\t\t<FirstTab nextTab={nextTab} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<SecondTab previousTab={previousTab} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Container>\r\n\t\t\t</FormProvider>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ModulesForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}